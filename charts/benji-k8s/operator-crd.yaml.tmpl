---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: benjioperatorconfigs.benji-backup.me
  labels:
    app.kubernetes.io/name: '{{ include "benji.name" $ }}'
    helm.sh/chart: '{{ include "benji.chart" $ }}'
    app.kubernetes.io/instance: '{{ $.Release.Name }}'
    app.kubernetes.io/component: crd
    app.kubernetes.io/managed-by: '{{ $.Release.Service }}'
  annotations:
    helm.sh/hook: crd-install
spec:
  scope: Namespaced
  group: benji-backup.me
  versions:
    - name: v1alpha1
      served: true
      storage: true
  names:
    kind: BenjiOperatorConfig
    plural: benjioperatorconfigs
    singular: benjioperatorconfig
    shortNames:
      - bocs
      - boc
  validation:
      openAPIV3Schema:
        properties:
          kind:
            type: string
          apiVersion:
            type: string
          metadata:
            $ref: >-
              python://k8s_crd_resolver/schemata/k8s-1.14.4.json#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.ObjectMeta
          spec:
            required:
              - jobTemplate
              - cronJobTemplate
            properties:
              jobTemplate:
                $ref: 'python://k8s_crd_resolver/schemata/k8s-1.14.4.json#/definitions/io.k8s.api.batch.v1.Job'
              cronJobTemplate:
                $ref: 'python://k8s_crd_resolver/schemata/k8s-1.14.4.json#/definitions/io.k8s.api.batch.v1beta1.CronJob'
